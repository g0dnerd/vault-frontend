<h1>Create a tournament</h1>
<mat-card>
  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <mat-form-field>
        <mat-label>Tournament Name</mat-label>
        <input
          matInput
          type="text"
          formControlName="name"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['name'].errors }"
        />
      </mat-form-field>
      <div *ngIf="submitted && f['name'].errors" class="invalid-feedback">
        <div *ngIf="f['name'].errors['required']">Name is required</div>
      </div>
      <mat-form-field>
        <mat-label>Player Capacity</mat-label>
        <input
          matInput
          type="number"
          formControlName="playerCapacity"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['playerCapacity'].errors }"
        />
      </mat-form-field>
      <div
        *ngIf="submitted && f['playerCapacity'].errors"
        class="invalid-feedback"
      >
        <div *ngIf="f['playerCapacity'].errors['required']">
          Player Capacity is required
        </div>
      </div>
      <mat-form-field>
        <mat-label>Description</mat-label>
        <textarea
          matInput
          formControlName="description"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['description'].errors }"
        ></textarea>
      </mat-form-field>
      <div
        *ngIf="submitted && f['description'].errors"
        class="invalid-feedback"
      >
        <div *ngIf="f['description'].errors['required']">
          Description is required
        </div>
      </div>
      <section class="checkbox-section">
        <p>
          <mat-checkbox
            formControlName="public"
            [ngClass]="{ 'is-invalid': submitted && f['public'].errors }"
            >Public</mat-checkbox
          >
        </p>
        <div *ngIf="submitted && f['public'].errors" class="invalid-feedback">
          <div *ngIf="f['public'].errors['required']">
            Public setting is required
          </div>
        </div>
        <p>
          <mat-checkbox
            formControlName="league"
            [ngClass]="{ 'is-invalid': submitted && f['league'].errors }"
            >League</mat-checkbox
          >
        </p>
        <div *ngIf="submitted && f['league'].errors" class="invalid-feedback">
          <div *ngIf="f['league'].errors['required']">
            League setting is required
          </div>
        </div>
      </section>
      <button [disabled]="loading" class="btn btn-primary">
        <span
          *ngIf="loading"
          class="spinner-border spinner-border-sm me-1"
        ></span>
        Create
      </button>
    </form>
  </mat-card-content>
</mat-card>
