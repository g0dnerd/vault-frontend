<form [formGroup]="form" *ngIf="form" (ngSubmit)="onSubmit()">
  <div class="form-input player-wins">
    <label class="form-label"
      >{{
        (currentMatch$ | ngrxPush)?.player1?.enrollment?.user?.username
      }}
      wins</label
    >
    <mat-button-toggle-group
      formControlName="player1Wins"
      aria-label="Player 1 Wins"
      exclusive
    >
      <mat-button-toggle [value]="0">0</mat-button-toggle>
      <mat-button-toggle [value]="1">1</mat-button-toggle>
      <mat-button-toggle [value]="2">2</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
  <div *ngIf="submitted && f['player1Wins'].errors" class="invalid-feedback">
    <div *ngIf="f['player1Wins'].errors['required']">
      Player 1 wins are required
    </div>
  </div>
  <div class="form-input player-wins">
    <label class="form-label"
      >{{
        (currentMatch$ | ngrxPush)?.player2?.enrollment?.user?.username
      }}
      wins</label
    >
    <mat-button-toggle-group
      formControlName="player2Wins"
      aria-label="Player 2 Wins"
      exclusive
    >
      <mat-button-toggle [value]="0">0</mat-button-toggle>
      <mat-button-toggle [value]="1">1</mat-button-toggle>
      <mat-button-toggle [value]="2">2</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
  <div
    *ngIf="form.hasError('sumExceeded')"
    class="cross-validation-error-message alert alert-danger"
  >
    Total games in match cannot exceed 3
  </div>
  <button [disabled]="loading" class="btn btn-primary">
    <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
    Report result
  </button>
</form>
